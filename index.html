<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ORA Terminal Shell</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #0a0a0a;
            color: #f0f0f0;
            font-family: 'Courier New', 'Cascadia Code', monospace;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        /* Matrix Canvas Background */
        #matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            opacity: 0.08;
        }
        
        /* Terminal Container */
        .terminal-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 900px;
            height: 600px;
            background-color: rgba(0, 0, 0, 0.95);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
            border: 1px solid #333;
            z-index: 10;
            min-width: 500px;
            min-height: 400px;
            resize: both;
            overflow: hidden;
        }
        
        /* Terminal Header */
        .terminal-header {
            background: linear-gradient(to bottom, #1a1a1a, #000);
            padding: 12px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #333;
            user-select: none;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .terminal-buttons {
            display: flex;
            gap: 10px;
        }
        
        .terminal-button {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .terminal-button:hover {
            transform: scale(1.1);
        }
        
        .close { background-color: #ff5f56; }
        .minimize { background-color: #ffbd2e; }
        .maximize { background-color: #27ca3f; }
        
        .terminal-title {
            color: #888;
            font-size: 14px;
            flex-grow: 1;
            text-align: center;
            margin: 0 20px;
        }
        
        /* Terminal Body */
        .terminal-body {
            height: calc(100% - 45px);
            padding: 20px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.9);
            position: relative;
        }
        
        .output {
            white-space: pre-wrap;
            word-wrap: break-word;
            margin-bottom: 8px;
            line-height: 1.4;
            font-size: 14px;
        }
        
        .prompt {
            color: #4af626;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .input-line {
            display: flex;
            align-items: center;
            margin-top: 5px;
        }
        
        .command-input {
            background: transparent;
            border: none;
            color: #f0f0f0;
            font-family: inherit;
            font-size: 14px;
            width: 100%;
            outline: none;
            caret-color: #4af626;
            flex: 1;
        }
        
        /* Text Colors */
        .command { color: #4af626; }
        .error { color: #ff5555; }
        .success { color: #50fa7b; }
        .info { color: #8be9fd; }
        .system { color: #bd93f9; }
        .warning { color: #ffb86c; }
        .matrix { color: #00ff9d; }
        .hacker { color: #00ff00; }
        .scan { color: #ff00ff; }
        .crypto { color: #ffff00; }
        
        /* Cursor */
        .cursor {
            display: inline-block;
            width: 8px;
            height: 16px;
            background-color: #4af626;
            margin-left: 2px;
            animation: blink 1s infinite;
            vertical-align: middle;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Resize Handle */
        .resize-handle {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 20px;
            height: 20px;
            cursor: nwse-resize;
            z-index: 20;
        }
        
        .resize-handle::after {
            content: '';
            position: absolute;
            bottom: 5px;
            right: 5px;
            width: 10px;
            height: 10px;
            border-right: 2px solid #444;
            border-bottom: 2px solid #444;
        }
        
        /* Footer */
        .terminal-footer {
            position: absolute;
            bottom: 10px;
            right: 20px;
            color: #666;
            font-size: 12px;
            z-index: 5;
        }
        
        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid #444;
            border-top-color: #00ff00;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            vertical-align: middle;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Terminal Startup Animation */
        @keyframes terminalStart {
            0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        
        .terminal-start-animation {
            animation: terminalStart 0.5s ease-out;
        }
    </style>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíª</text></svg>">
</head>
<body>
    <!-- Matrix Canvas Background -->
    <canvas id="matrix-canvas"></canvas>
    
    <!-- Terminal Window -->
    <div class="terminal-container terminal-start-animation" id="terminal-window">
        <div class="terminal-header" id="terminal-header">
            <div class="header-left">
                <div class="terminal-buttons">
                    <div class="terminal-button close" id="close-btn"></div>
                    <div class="terminal-button minimize" id="minimize-btn"></div>
                    <div class="terminal-button maximize" id="maximize-btn"></div>
                </div>
                <div class="terminal-title" id="terminal-title">ora@terminal:~</div>
            </div>
        </div>
        
        <div class="terminal-body" id="terminal-output">
            <!-- Content will be loaded here -->
        </div>
        
        <div class="terminal-footer">ora terminal by MKB - 2025</div>
        <div class="resize-handle"></div>
    </div>

    <script>
        // ==============================
        // MAIN APPLICATION
        // ==============================
        (function() {
            'use strict';
            
            // Global variables
            var matrixColor = '#00ff9d';
            var commandHistory = [];
            var historyIndex = 0;
            var isDragging = false;
            var dragOffset = { x: 0, y: 0 };
            
            // DOM Elements
            var canvas = document.getElementById('matrix-canvas');
            var ctx = canvas.getContext('2d');
            var terminalOutput = document.getElementById('terminal-output');
            var terminalContainer = document.getElementById('terminal-window');
            var terminalHeader = document.getElementById('terminal-header');
            
            // Color definitions
            var matrixColors = [
                '#00ff9d', '#4af626', '#00ffff', '#ff00ff',
                '#ffaa00', '#ff5555', '#ffffff', '#9d00ff',
                '#00aaff', '#ffff00', '#ff6b8b', '#00ff00'
            ];
            
            // Matrix animation variables
            var chars = "01„Ç¢„Ç°„Ç´„Çµ„Çø„Éä„Éè„Éû„É§„É£„É©„ÉØ„Ç¨„Ç∂„ÉÄ„Éê„Éë„Ç§„Ç£„Ç≠„Ç∑„ÉÅ„Éã„Éí„Éü„É™„É∞„ÇÆ„Ç∏„ÉÇ„Éì„Éî„Ç¶„Ç•„ÇØ„Çπ„ÉÑ„Éå„Éï„É†„É¶„É•„É´„Ç∞„Ç∫„Éñ„ÉÖ„Éó„Ç®„Çß„Ç±„Çª„ÉÜ„Éç„Éò„É°„É¨„É±„Ç≤„Çº„Éá„Éô„Éö„Ç™„Ç©„Ç≥„ÇΩ„Éà„Éé„Éõ„É¢„É®„Éß„É≠„É≤„Ç¥„Çæ„Éâ„Éú„Éù„É¥„ÉÉ„É≥";
            var charArray = chars.split("");
            var fontSize = 14;
            var columns = 0;
            var drops = [];
            
            // ==============================
            // MATRIX ANIMATION
            // ==============================
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            
            function initMatrix() {
                resizeCanvas();
                columns = Math.floor(canvas.width / fontSize);
                drops = [];
                for(var i = 0; i < columns; i++) {
                    drops[i] = Math.floor(Math.random() * canvas.height / fontSize);
                }
            }
            
            function drawMatrix() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.font = fontSize + 'px "Courier New", monospace';
                
                for(var i = 0; i < drops.length; i++) {
                    var char = charArray[Math.floor(Math.random() * charArray.length)];
                    var opacity = Math.random() * 0.5 + 0.5;
                    ctx.fillStyle = matrixColor.replace(')', ', ' + opacity + ')').replace('rgb', 'rgba');
                    ctx.fillText(char, i * fontSize, drops[i] * fontSize);
                    drops[i]++;
                    
                    if(drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                }
            }
            
            // ==============================
            // BOOT SEQUENCE
            // ==============================
            async function runBootSequence() {
                terminalOutput.innerHTML = '';
                
                var bootMessages = [
                    {text: "[SYSTEM] Initializing ORA Secure Terminal v2.0", delay: 100},
                    {text: "[BIOS] Scanning hardware components...", delay: 80},
                    {text: "[OK] CPU: Intel Xeon E5-2699 v4 @ 2.20GHz (44 cores)", delay: 60},
                    {text: "[OK] RAM: 128GB DDR4 @ 2400MHz", delay: 60},
                    {text: "[OK] Storage: 4TB NVMe SSD", delay: 60},
                    {text: "[OK] GPU: NVIDIA RTX 4090 (24GB VRAM)", delay: 60},
                    {text: "[NET] Establishing secure connection...", delay: 100},
                    {text: "[NET] Interface eth0: 192.168.1.100/24", delay: 80},
                    {text: "[NET] Gateway: 192.168.1.1", delay: 80},
                    {text: "[NET] DNS: 8.8.8.8, 8.8.4.4", delay: 80},
                    {text: "[SECURE] Loading encryption modules...", delay: 120},
                    {text: "[OK] AES-256 encryption initialized", delay: 60},
                    {text: "[OK] RSA-4096 key pair generated", delay: 60},
                    {text: "[OK] SHA-512 hash algorithm ready", delay: 60},
                    {text: "[SYSTEM] Mounting file systems...", delay: 100},
                    {text: "[OK] /dev/sda1 mounted on /", delay: 60},
                    {text: "[OK] /dev/sda2 mounted on /home", delay: 60},
                    {text: "[OK] /dev/sdb1 mounted on /ora", delay: 60},
                    {text: "[KERNEL] Loading security modules...", delay: 120},
                    {text: "[OK] SELinux: Enforcing mode", delay: 60},
                    {text: "[OK] AppArmor: Active", delay: 60},
                    {text: "[OK] Firewall: iptables loaded", delay: 60},
                    {text: "[NETWORK] Starting services...", delay: 100},
                    {text: "[OK] SSH: Secure shell daemon", delay: 60},
                    {text: "[OK] VPN: OpenVPN established", delay: 60},
                    {text: "[OK] Tor: Onion routing enabled", delay: 60},
                    {text: "[CRYPTO] Generating secure certificates...", delay: 150},
                    {text: "[OK] SSL/TLS certificates verified", delay: 80},
                    {text: "[OK] Let's Encrypt integration complete", delay: 80},
                    {text: "[SYSTEM] Starting user sessions...", delay: 120},
                    {text: "[OK] X11 display server started", delay: 80},
                    {text: "[OK] Window manager: i3-gaps", delay: 80},
                    {text: "[OK] Terminal: ORA Terminal v2.0", delay: 80},
                    {text: "[SECURITY] Running penetration tests...", delay: 150},
                    {text: "[SCAN] Port scanning local network...", delay: 100},
                    {text: "[SCAN] Vulnerability assessment...", delay: 100},
                    {text: "[SCAN] Intrusion detection system check...", delay: 100},
                    {text: "[OK] Security status: OPTIMAL", delay: 80},
                    {text: "[NETWORK] Testing external connections...", delay: 120},
                    {text: "[PING] google.com: 12ms", delay: 60},
                    {text: "[PING] github.com: 28ms", delay: 60},
                    {text: "[PING] 1.1.1.1: 8ms", delay: 60},
                    {text: "[SYSTEM] Finalizing startup...", delay: 150},
                    {text: "[OK] All systems operational", delay: 80},
                    {text: "[OK] Security level: MAXIMUM", delay: 80},
                    {text: "[OK] Connection: ENCRYPTED", delay: 80},
                    {text: "[OK] Ready for commands", delay: 100}
                ];
                
                // Main boot sequence
                for (var i = 0; i < bootMessages.length; i++) {
                    var msg = bootMessages[i];
                    
                    var line = document.createElement('div');
                    line.className = 'output hacker';
                    
                    // Add random color effects
                    if (Math.random() > 0.8) {
                        line.style.color = matrixColors[Math.floor(Math.random() * matrixColors.length)];
                    }
                    
                    line.textContent = msg.text;
                    terminalOutput.appendChild(line);
                    
                    await new Promise(function(resolve) {
                        setTimeout(resolve, msg.delay);
                    });
                    
                    terminalOutput.scrollTop = terminalOutput.scrollHeight;
                }
                
                // Final message
                await new Promise(function(resolve) {
                    setTimeout(resolve, 500);
                });
                
                var welcomeDiv = document.createElement('div');
                welcomeDiv.className = 'output';
                welcomeDiv.innerHTML = '<br>' +
                    '<span class="hacker">‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó</span><br>' +
                    '<span class="hacker">‚ïë                    ORA TERMINAL v2.0                     ‚ïë</span><br>' +
                    '<span class="hacker">‚ïë                 SECURE ACCESS VERIFIED                   ‚ïë</span><br>' +
                    '<span class="hacker">‚ïë                 USER: ora                                ‚ïë</span><br>' +
                    '<span class="hacker">‚ïë                 SECURITY LEVEL: MAXIMUM                  ‚ïë</span><br>' +
                    '<span class="hacker">‚ïë                 CONNECTION: ENCRYPTED                    ‚ïë</span><br>' +
                    '<span class="hacker">‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù</span><br><br>' +
                    '<span class="info">Type \'help\' for available commands</span><br>' +
                    '<span class="info">Type \'orastart\' to launch ORA Tool (opens in new window)</span><br>' +
                    '<span class="info">Type \'clear\' to clear terminal screen</span><br><br>' +
                    '<span class="warning">‚ö†Ô∏è All activities are logged and monitored</span><br>';
                terminalOutput.appendChild(welcomeDiv);
                
                // Create first input line
                createInputLine();
            }
            
            // ==============================
            // COMMAND SYSTEM
            // ==============================
            var commands = {
                help: {
                    description: 'Show all available commands',
                    execute: function(args) {
                        var helpText = '<span class="hacker">Available commands:</span><br><br>';
                        helpText += '<span class="command">orastart</span>      - Launch ORA Tool (opens new window)<br>';
                        helpText += '<span class="command">clear</span>         - Clear the terminal screen<br>';
                        helpText += '<span class="command">date</span>          - Show current date and time<br>';
                        helpText += '<span class="command">echo [text]</span>   - Display a line of text<br>';
                        helpText += '<span class="command">whoami</span>        - Print effective userid<br>';
                        helpText += '<span class="command">pwd</span>           - Print working directory<br>';
                        helpText += '<span class="command">ls</span>            - List directory contents<br>';
                        helpText += '<span class="command">neofetch</span>      - Display system information<br>';
                        helpText += '<span class="command">uname</span>         - Print system information<br>';
                        helpText += '<span class="command">uptime</span>        - Tell how long system has been running<br>';
                        helpText += '<span class="command">cal</span>           - Display a calendar<br>';
                        helpText += '<span class="command">color [1-12]</span>  - Change matrix color<br>';
                        helpText += '<span class="command">reboot</span>        - Restart terminal<br>';
                        helpText += '<span class="command">about</span>         - About this terminal<br>';
                        helpText += '<br><span class="info">Use TAB for auto-completion and ‚Üë‚Üì for command history</span>';
                        return helpText;
                    }
                },
                
                orastart: {
                    description: 'Launch ORA Tool',
                    execute: function(args) {
                        setTimeout(function() {
                            window.open('oratool.html', '_blank', 'width=1200,height=800');
                        }, 500);
                        return '<span class="success">Launching ORA Tool in new window...</span>';
                    }
                },
                
                clear: {
                    description: 'Clear the terminal screen',
                    execute: function(args) {
                        setTimeout(function() {
                            terminalOutput.innerHTML = '';
                            createInputLine();
                        }, 10);
                        return '';
                    }
                },
                
                date: {
                    description: 'Show current date and time',
                    execute: function(args) {
                        var now = new Date();
                        return now.toLocaleString();
                    }
                },
                
                echo: {
                    description: 'Echo back the input text',
                    execute: function(args) {
                        return args.join(' ');
                    }
                },
                
                whoami: {
                    description: 'Print effective userid',
                    execute: function(args) {
                        return 'ora';
                    }
                },
                
                pwd: {
                    description: 'Print working directory',
                    execute: function(args) {
                        return '/home/ora';
                    }
                },
                
                ls: {
                    description: 'List directory contents',
                    execute: function(args) {
                        if (args[0] === '-la') {
                            return 'total 128<br>' +
                                   'drwxr-xr-x 18 ora ora  4096 Dec 12 10:30 .<br>' +
                                   'drwxr-xr-x  3 root root 4096 Dec 12 09:15 ..<br>' +
                                   '-rw-r--r--  1 ora ora   220 Dec 12 09:15 .bash_logout<br>' +
                                   '-rw-r--r--  1 ora ora  3771 Dec 12 09:15 .bashrc<br>' +
                                   'drwx------ 15 ora ora  4096 Dec 12 10:25 .cache<br>' +
                                   'drwx------ 12 ora ora  4096 Dec 12 10:20 .config<br>' +
                                   'drwxr-xr-x  2 ora ora  4096 Dec 12 09:15 Desktop<br>' +
                                   'drwxr-xr-x  2 ora ora  4096 Dec 12 09:15 Documents<br>' +
                                   'drwxr-xr-x  2 ora ora  4096 Dec 12 09:15 Downloads<br>' +
                                   '-rw-r--r--  1 ora ora   807 Dec 12 09:15 .profile<br>' +
                                   'drwxr-xr-x  2 ora ora  4096 Dec 12 09:15 Public<br>' +
                                   '-rw-r--r--  1 ora ora     0 Dec 12 09:15 .sudo_as_admin_successful<br>' +
                                   'drwxr-xr-x  2 ora ora  4096 Dec 12 09:15 Templates<br>' +
                                   'drwxr-xr-x  2 ora ora  4096 Dec 12 09:15 Videos<br>' +
                                   '-rw-r--r--  1 ora ora    46 Dec 12 09:15 .wget-hsts';
                        }
                        return 'Desktop    Downloads  Music     Public     oratool.html<br>' +
                               'Documents  Pictures   Videos    data.json';
                    }
                },
                
                neofetch: {
                    description: 'Display system information',
                    execute: function(args) {
                        return '' +
                        '<span class="hacker">        .-/+oossssoo+/-.               <span class="info">ora@terminal</span></span><br>' +
                        '<span class="hacker">    `:+ssssssssssssssssss+:`           -------------</span><br>' +
                        '<span class="hacker">  -+ssssssssssssssssssyyssss+-         <span class="info">OS: ORA Terminal Kali v2.0</span></span><br>' +
                        '<span class="hacker"> .ossssssssssssssssssdMMMNysssso.       <span class="info">Host: ORA Secure Server</span></span><br>' +
                        '<span class="hacker"> /ssssssssssshdmmNNmmyNMMMMhssssss/      <span class="info">Kernel: 6.1.0-kali5-amd64</span></span><br>' +
                        '<span class="hacker"> +ssssssssshmydMMMMMMMNddddysssssss+     <span class="info">Uptime: 15 mins</span></span><br>' +
                        '<span class="hacker"> /sssssssshNMMMyhhyyyyhmNMMMNhssssss/    <span class="info">Shell: ora-terminal v2.0</span></span><br>' +
                        '<span class="hacker"> .ossssssssdMMMNhsssssssssshNMMMdssssso.  <span class="info">Terminal: ORA Terminal</span></span><br>' +
                        '<span class="hacker">  -+sssssssshyyysssssssssssssyyyyssss+-  <span class="info">CPU: Xeon E5-2699 v4 (44) @ 2.20GHz</span></span><br>' +
                        '<span class="hacker">    `:+ssssssssssssssssssssssssssss+:`   <span class="info">Memory: 128GiB</span></span><br>' +
                        '<span class="hacker">        .-/+oossssoo+/-.</span>';
                    }
                },
                
                uname: {
                    description: 'Print system information',
                    execute: function(args) {
                        if (args[0] === '-a') {
                            return 'Linux terminal 6.1.0-kali5-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.1.12-1kali2 (2023-02-23) x86_64 GNU/Linux';
                        }
                        return 'Linux';
                    }
                },
                
                uptime: {
                    description: 'Tell how long system has been running',
                    execute: function(args) {
                        return ' 10:45:23 up 15 min,  1 user,  load average: 0.15, 0.08, 0.03';
                    }
                },
                
                cal: {
                    description: 'Display a calendar',
                    execute: function(args) {
                        var now = new Date();
                        var month = now.getMonth();
                        var year = now.getFullYear();
                        
                        var monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                                        'July', 'August', 'September', 'October', 'November', 'December'];
                        
                        return '' +
                        '<span class="info">     ' + monthNames[month] + ' ' + year + '</span><br>' +
                        '<span class="info">Su Mo Tu We Th Fr Sa</span><br>' +
                        '<span class="info"> 1  2  3  4  5  6  7</span><br>' +
                        '<span class="info"> 8  9 10 11 12 13 14</span><br>' +
                        '<span class="info">15 16 17 18 19 20 21</span><br>' +
                        '<span class="info">22 23 24 25 26 27 28</span><br>' +
                        '<span class="info">29 30 31</span>';
                    }
                },
                
                color: {
                    description: 'Change matrix animation color (1-12)',
                    execute: function(args) {
                        if (args.length === 0) {
                            var colors = '<span class="info">Available colors (1-12):</span><br>';
                            for (var i = 0; i < matrixColors.length; i++) {
                                colors += '<span class="command">' + (i + 1) + '</span> - <span style="color:' + matrixColors[i] + '">‚ñ†</span> ' + matrixColors[i] + '<br>';
                            }
                            return colors;
                        }
                        
                        var colorNum = parseInt(args[0]);
                        if (colorNum >= 1 && colorNum <= 12) {
                            matrixColor = matrixColors[colorNum - 1];
                            return '<span class="success">Matrix color changed to #' + colorNum + '</span>';
                        } else {
                            return '<span class="error">Color must be between 1 and 12</span>';
                        }
                    }
                },
                
                reboot: {
                    description: 'Restart terminal',
                    execute: function(args) {
                        setTimeout(function() {
                            location.reload();
                        }, 1000);
                        return '<span class="warning">Rebooting terminal...</span>';
                    }
                },
                
                about: {
                    description: 'About this terminal',
                    execute: function(args) {
                        return '<span class="hacker">ORA Terminal Shell v2.0</span><br>' +
                        '<span class="info">Secure Kali Linux-style terminal interface</span><br>' +
                        '<span class="info">With ORA Tool integration</span><br>' +
                        '<span class="info">Created by MKB - 2025</span><br><br>' +
                        '<span class="info">Features:</span><br>' +
                        '<span class="info">‚Ä¢ Matrix background animation (color selectable)</span><br>' +
                        '<span class="info">‚Ä¢ Kali Linux command set</span><br>' +
                        '<span class="info">‚Ä¢ ORA Tool launcher (orastart)</span><br>' +
                        '<span class="info">‚Ä¢ Interactive command history</span><br>' +
                        '<span class="info">‚Ä¢ Tab auto-completion</span><br>' +
                        '<span class="info">‚Ä¢ Secure encrypted connection simulation</span>';
                    }
                }
            };
            
            // ==============================
            // INPUT HANDLING
            // ==============================
            function createInputLine() {
                var inputLine = document.createElement('div');
                inputLine.className = 'input-line';
                
                inputLine.innerHTML = '' +
                    '<span class="prompt">ora@terminal:~$ </span>' +
                    '<input type="text" class="command-input" autocomplete="off" id="main-command-input">' +
                    '<span class="cursor"></span>';
                
                terminalOutput.appendChild(inputLine);
                
                var input = inputLine.querySelector('.command-input');
                
                setTimeout(function() {
                    input.focus();
                }, 100);
                
                input.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        var command = input.value.trim();
                        inputLine.remove();
                        processCommand(command);
                    }
                    
                    // Tab completion
                    if (e.key === 'Tab') {
                        e.preventDefault();
                        var currentInput = input.value.trim();
                        var matchingCommands = Object.keys(commands).filter(function(cmd) {
                            return cmd.startsWith(currentInput);
                        });
                        if (matchingCommands.length === 1) {
                            input.value = matchingCommands[0] + ' ';
                        }
                    }
                    
                    // Command history
                    if (e.key === 'ArrowUp') {
                        e.preventDefault();
                        if (commandHistory.length > 0 && historyIndex > 0) {
                            historyIndex--;
                            input.value = commandHistory[historyIndex] || '';
                        }
                    }
                    
                    if (e.key === 'ArrowDown') {
                        e.preventDefault();
                        if (commandHistory.length > 0 && historyIndex < commandHistory.length - 1) {
                            historyIndex++;
                            input.value = commandHistory[historyIndex] || '';
                        } else {
                            historyIndex = commandHistory.length;
                            input.value = '';
                        }
                    }
                });
                
                terminalOutput.scrollTop = terminalOutput.scrollHeight;
            }
            
            function processCommand(fullCommand) {
                // Add to history
                commandHistory.push(fullCommand);
                historyIndex = commandHistory.length;
                
                // Display command
                var commandOutput = document.createElement('div');
                commandOutput.className = 'output';
                commandOutput.innerHTML = '<span class="prompt">ora@terminal:~$ </span> <span class="command">' + fullCommand + '</span>';
                terminalOutput.appendChild(commandOutput);
                
                // Parse command
                var parts = fullCommand.split(' ');
                var cmd = parts[0];
                var args = parts.slice(1);
                
                var resultDiv = document.createElement('div');
                resultDiv.className = 'output';
                
                if (cmd === '') {
                    resultDiv.innerHTML = '';
                } else if (commands[cmd]) {
                    try {
                        var result = commands[cmd].execute(args);
                        resultDiv.innerHTML = result;
                    } catch (error) {
                        console.error('Command error:', error);
                        resultDiv.innerHTML = '<span class="error">Error: ' + error.message + '</span>';
                    }
                } else {
                    resultDiv.innerHTML = '<span class="error">Command not found: ' + cmd + '</span><br>' +
                    'Type <span class="command">\'help\'</span> for available commands';
                }
                
                if (resultDiv.innerHTML !== '') {
                    terminalOutput.appendChild(resultDiv);
                }
                
                createInputLine();
                terminalOutput.scrollTop = terminalOutput.scrollHeight;
            }
            
            // ==============================
            // TERMINAL CONTROLS
            // ==============================
            function setupTerminalControls() {
                // Close button
                document.getElementById('close-btn').addEventListener('click', function() {
                    terminalContainer.style.display = 'none';
                    var message = document.createElement('div');
                    message.className = 'output error';
                    message.textContent = 'Terminal closed. Refresh page to restart.';
                    terminalOutput.appendChild(message);
                });
                
                // Minimize button
                document.getElementById('minimize-btn').addEventListener('click', function() {
                    terminalContainer.style.height = '45px';
                    setTimeout(function() {
                        terminalContainer.style.height = '600px';
                    }, 2000);
                });
                
                // Maximize button
                document.getElementById('maximize-btn').addEventListener('click', function() {
                    if (terminalContainer.style.width === '95vw') {
                        terminalContainer.style.width = '900px';
                        terminalContainer.style.height = '600px';
                        terminalContainer.style.left = '50%';
                        terminalContainer.style.top = '50%';
                        terminalContainer.style.transform = 'translate(-50%, -50%)';
                    } else {
                        terminalContainer.style.width = '95vw';
                        terminalContainer.style.height = '90vh';
                        terminalContainer.style.left = '2.5vw';
                        terminalContainer.style.top = '5vh';
                        terminalContainer.style.transform = 'none';
                    }
                });
                
                // Draggable terminal
                terminalHeader.addEventListener('mousedown', function(e) {
                    if (e.target === terminalHeader || e.target.classList.contains('terminal-title')) {
                        isDragging = true;
                        var rect = terminalContainer.getBoundingClientRect();
                        dragOffset.x = e.clientX - rect.left;
                        dragOffset.y = e.clientY - rect.top;
                        terminalContainer.style.cursor = 'grabbing';
                    }
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (isDragging) {
                        terminalContainer.style.left = (e.clientX - dragOffset.x) + 'px';
                        terminalContainer.style.top = (e.clientY - dragOffset.y) + 'px';
                        terminalContainer.style.transform = 'none';
                    }
                });
                
                document.addEventListener('mouseup', function() {
                    isDragging = false;
                    terminalContainer.style.cursor = '';
                });
                
                // Focus input on click
                document.addEventListener('click', function() {
                    setTimeout(function() {
                        var input = document.querySelector('.command-input');
                        if (input) input.focus();
                    }, 100);
                });
                
                // Handle window resize
                window.addEventListener('resize', function() {
                    initMatrix();
                });
            }
            
            // ==============================
            // INITIALIZATION
            // ==============================
            async function init() {
                // Initialize matrix animation
                initMatrix();
                setInterval(drawMatrix, 50);
                
                // Setup terminal controls
                setupTerminalControls();
                
                // Start boot sequence
                await runBootSequence();
            }
            
            // Start the application when DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
            } else {
                init();
            }
            
        })(); // End of IIFE
    </script>
</body>
</html>
